fidry_alice_data_fixtures:
    db_drivers:
        doctrine_orm: false

services:
    _defaults:
        autoconfigure: true
        public: false

    Core\Infrastructure\Fixtures\Cli\LoadDataFixturesCommand:
        class: Core\Infrastructure\Fixtures\Cli\LoadDataFixturesCommand
        arguments:
            - '@Fidry\AliceDataFixtures\LoaderInterface'
    
    Core\Infrastructure\Fixtures\Persistence\CommandBusPersister:
        class: Core\Infrastructure\Fixtures\Persistence\CommandBusPersister
        arguments:
            - '@messenger.bus.commands'

    Fidry\AliceDataFixtures\LoaderInterface:
        class: Fidry\AliceDataFixtures\Loader\PersisterLoader
        arguments:
            - '@fidry_alice_data_fixtures.loader.simple'
            - '@Core\Infrastructure\Fixtures\Persistence\CommandBusPersister'
            - '@?logger'
